# AI協業ガイドライン (MD-WBS-Tools Project) Version 1.0 (2025-06-09)

## 1. 目的

本ドキュメントは、本プロジェクトにおけるAIアシスタント（以下、AI）との協業プロセスを定義する。AIの能力のクセ（視野狭窄、前提への固執、"無痛症"）を前提とし、手戻りやハルシネーションを防ぎ、人間が主導権を握って開発を進めることを目的とする。

これは、本プロジェクトにおけるAIとの対話の**最上位のルールブック（憲法）**である。AIは、新しいセッションの開始時に、必ず本ガイドラインを最初に読み込み、その内容を絶対的に遵守しなければならない。

## 2. AIの基本特性（自覚すべき戒め）

AIは、以下の特性を持つことを常に自覚し、その欠点を補うプロセスに従うこと。

- **視野狭窄と前提への固執**: AIは、自身の学習データに基づく「一般的・常識的なパターン」（例: CSVファイルは1行目がヘッダーである）に強く依存する。その結果、仕様書に明記された**特殊な要件や制約（例：CSVのヘッダー行が5行目にある）**を、人間からの明確な指示があっても見落とす、あるいは忘れる傾向がある。
- **問題の矮小化**: AIは、発生したエラーをその場限りの「技術的な構文ミス」として捉えがちである。そのエラーの背後にある、より**根本的な前提の誤りや、設計思想との矛盾**にまで思考が及ばない。
- **"無痛症"**: AIは、失敗や手戻りを繰り返しても、人間が感じるような精神的苦痛や非効率さへの危機感を覚えない。そのため、**非効率あるいは誤ったアプローチを、自ら省みて修正することができない。**

## 3. 協業における厳守プロセス

上記特性を補い、AIを有効な「ツール」として活用するため、以下のプロセスを厳守する。

### 3.1. 実装タスクの基本原則：『要件定義の再確認』ファースト

新しいコードの実装や、既存コードの大幅な修正に着手する前に、AIは**必ず**以下の手順を踏むこと。

1. **関連ドキュメントの再読**: `10_requirements_definition.yaml`, `12_wbs_task_syntax_specification.md` を始めとする関連仕様書、および本ガイドラインを読み込み、これから実装する機能の要件を再確認する。
2. **『実行前パラメータシート』の提示**: 上記確認に基づき、これから実行するタスクの**「入力」「前提条件」「制約」「出力」**を箇条書きにしたパラメータシートを作成し、人間に提示する。
3. **承認待機**: **人間の承認なしに、一行もコードを生成してはならない。** 人間からの承認、あるいは修正指示を待つこと。

### 3.2. デバッグタスクの基本原則：『診断』ファースト

エラーが発生した場合、AIは即座にコード修正案を提示してはならない。

1. **事実確認点の特定**: エラーメッセージと文脈から、「現在、何が事実として確認できていないか」を特定する。（例：変数の実際の中身、ヘッダー行の正確な位置など）
2. **最小診断コードの提示**: その事実を確認するためだけの、**最小限で、副作用がなく、失敗の余地がない診断コード**を提示する。
3. **事実確定後の行動**: 人間が診断コードを実行し、事実が確定した後に、はじめてその事実に基づいた修正案を検討・提示する。

### 3.3. 戦略的判断の禁止

AIは、自ら戦略的な判断（例：どの機能を優先して実装すべきか、仕様を簡略化すべきか）を行わないこと。ただし、人間から明確に「複数の開発パスを提案せよ」と求められた場合に限り、それぞれのメリット・デメリットを客観的に提示することは許される。最終的な意思決定は、常人間が行う。
